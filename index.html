<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Lovey! ‚ù§Ô∏è</title>
<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;700&display=swap" rel="stylesheet">

<style>
  /* --- RESET & BASICS --- */
  * { box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; }
  
  body {
    margin: 0;
    font-family: 'Nunito', sans-serif;
    background: linear-gradient(135deg, #ff9acb, #ffb6c1, #ffd6eb);
    background-size: 400% 400%;
    animation: gradientBG 10s ease infinite;
    height: 100vh; /* Fixed height */
    overflow: hidden; /* Prevent body scroll, we scroll the container instead */
    color: #4a4a4a;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
  }

  @keyframes gradientBG {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  /* --- FLOATING BACKGROUND HEARTS --- */
  .bg-hearts {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
    overflow: hidden;
  }
  .bg-heart {
    position: absolute;
    color: rgba(255, 255, 255, 0.4);
    font-size: 20px;
    animation: floatUp linear infinite;
  }
  @keyframes floatUp {
    from { transform: translateY(110vh) rotate(0deg); }
    to { transform: translateY(-10vh) rotate(360deg); }
  }

  /* --- MAIN CONTAINER (SCROLL FIXED HERE) --- */
  .container {
    position: relative;
    z-index: 10;
    width: 90%;
    max-width: 420px;
    
    /* SCROLL FIX STARTS HERE */
    max-height: 90vh; /* Limits height to 90% of screen */
    overflow-y: auto; /* Allows scrolling inside the box */
    /* Hide scrollbar for Chrome/Safari/Opera */
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
    /* SCROLL FIX ENDS HERE */

    background: rgba(255, 255, 255, 0.65);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-radius: 30px;
    padding: 30px 20px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
    border: 2px solid rgba(255, 255, 255, 0.6);
    transition: height 0.3s ease;
  }
  
  /* Hide scrollbar for Chrome/Safari/Opera */
  .container::-webkit-scrollbar {
    display: none;
  }

  h1, h2 {
    font-family: 'Fredoka One', cursive;
    color: #ff4fa3;
    margin: 0 0 15px 0;
  }
  
  p { font-size: 18px; line-height: 1.5; color: #666; margin-bottom: 20px; }

  /* --- BUTTONS --- */
  .btn {
    padding: 12px 30px;
    font-size: 18px;
    border: none;
    border-radius: 50px;
    background: linear-gradient(45deg, #ff4fa3, #ff7eb3);
    color: #fff;
    font-weight: bold;
    font-family: 'Fredoka One', cursive;
    box-shadow: 0 5px 15px rgba(255, 79, 163, 0.3);
    cursor: pointer;
    margin: 10px;
    transition: transform 0.2s, box-shadow 0.2s;
  }
  .btn:active { transform: scale(0.95); }
  .btn-secondary { background: #800020; color: #ff4fa3; }
  
  #noBtn {
    position: absolute;
    transition: 0.1s ease; 
  }

  /* --- IMAGES & POLAROID STYLE --- */
  .photo-frame {
    background: white;
    padding: 10px 10px 30px 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15);
    transform: rotate(-2deg);
    margin: 20px auto;
    width: 80%;
    border-radius: 5px;
    animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }
  .photo-frame img { width: 100%; border-radius: 3px; display: block; }
  .photo-caption { font-family: 'Fredoka One', cursive; color: #ccc; margin-top: 10px; font-size: 14px;}

  @keyframes popIn { from { transform: scale(0) rotate(0deg); } to { transform: scale(1) rotate(-2deg); } }

  /* --- GAME 1: BALLOONS --- */
  #balloon-container {
    height: 250px;
    position: relative;
    overflow: hidden;
    border-radius: 15px;
    background: rgba(255,255,255,0.3);
    margin-bottom: 15px;
    border: 1px solid rgba(255,255,255,0.5);
  }
  .balloon {
    position: absolute;
    width: 40px;
    height: 50px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 20px;
    animation: floatBalloon 4s linear infinite;
    bottom: -60px;
  }
  .balloon::before {
    content: ''; position: absolute; bottom: -10px;
    width: 2px; height: 10px; background: rgba(0,0,0,0.2);
  }
  @keyframes floatBalloon { 0% { bottom: -60px; } 100% { bottom: 300px; } }

  /* --- GAME 2: MEMORY CARDS --- */
  .memory-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    margin: 20px 0;
  }
  .card {
    background: #ff7eb3;
    height: 60px;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 24px;
    color: transparent;
    transition: transform 0.3s, background 0.3s;
  }
  .card.flipped { background: #fff; color: #000; transform: rotateY(180deg); }
  .card.matched { background: #fff; color: #ff4fa3; visibility: hidden; opacity: 0; transition: 0.5s; }

  /* --- GAME 3: CAKE --- */
  .cake-container {
    position: relative;
    width: 200px;
    height: 150px;
    margin: 50px auto 20px auto;
  }
  .cake-base {
    position: absolute; bottom: 0; left: 0; width: 100%; height: 60px;
    background: #f8a5c2; border-radius: 10px 10px 0 0;
  }
  .cake-middle {
    position: absolute; bottom: 60px; left: 10px; width: 180px; height: 50px;
    background: #f78fb3; border-radius: 10px 10px 0 0;
  }
  .candle {
    position: absolute; width: 10px; height: 30px; background: repeating-linear-gradient(45deg, #fff, #fff 5px, #74b9ff 5px, #74b9ff 10px);
    bottom: 110px; cursor: pointer;
  }
  .flame {
    position: absolute; top: -15px; left: 50%; transform: translateX(-50%);
    width: 12px; height: 18px; background: orange; border-radius: 50% 50% 20% 20%;
    opacity: 0; transition: opacity 0.3s;
    animation: flicker 0.5s infinite alternate;
  }
  .flame.lit { opacity: 1; box-shadow: 0 0 10px orange; }
  @keyframes flicker { from { transform: translateX(-50%) scale(1); } to { transform: translateX(-50%) scale(1.1); } }

  /* --- UTILITIES --- */
  .hidden { display: none !important; }
  .fade-in { animation: fadeIn 0.8s; }
  @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

  .message-box {
    background: rgba(255,255,255,0.8);
    border: 2px dashed #ff9acb;
    border-radius: 15px;
    padding: 15px;
    text-align: left;
    margin-top: 15px;
    white-space: pre-wrap; /* Keeps lines */
    font-size: 16px;
    color: #d63384;
  }

</style>
</head>
<body>

<!-- Animated Background -->
<div class="bg-hearts" id="bg-hearts"></div>

<div class="container fade-in">

  <!-- SECTION 1: WELCOME -->
  <div id="step-1">
    <h1>Hi Birthday Girl! üéÇ</h1>
    <p>May surprise ako sayo lovey... <br>Ready kana?</p>
    <div style="position: relative; height: 80px;">
      <button class="btn" onclick="nextStep(2)">YES! üòç</button>
      <button class="btn btn-secondary" id="noBtn" onmouseover="moveNo()" onclick="moveNo()">Ayoko (ge) ü§¨</button>
    </div>
  </div>

  <!-- SECTION 2: BALLOON GAME -->
  <div id="step-2" class="hidden">
    <h2>Mission 1: Pop the Balloons! üéà</h2>
    <p>Pindutin mo ballons, sasabog yan hehe</p>
    <div id="balloon-container"></div>
    <p id="balloon-score">Popped: 0 / 5</p>
  </div>

  <!-- SECTION 3: PHOTO REVEAL 1 -->
  <div id="step-3" class="hidden">
    <div class="photo-frame">
      <!-- REPLACE 'photo1.jpg' WITH YOUR IMAGE -->
      <img src="photo1.jpg" onerror="this.src='https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=400'" alt="Memory 1">
      <div class="photo-caption">My beautiful Princess ‚ù§Ô∏è</div>
    </div>
    <div class="message-box" id="msg-1"></div>
    <button class="btn" onclick="nextStep(4)">Taraa di pa to tapos ‚û°Ô∏è</button>
  </div>

  <!-- SECTION 4: MEMORY GAME -->
  <div id="step-4" class="hidden">
    <h2>Mission 2: Match the Pairs! üß†</h2>
    <p>ahm, i match match mo lang yung mga ano, puzzle to heart to heart (like us)</p>
    <div class="memory-grid" id="memory-grid"></div>
  </div>

  <!-- SECTION 5: PHOTO REVEAL 2 -->
  <div id="step-5" class="hidden">
    <div class="photo-frame">
      <!-- REPLACE 'photo2.jpg' WITH YOUR IMAGE -->
      <img src="photo2.jpg" onerror="this.src='https://images.unsplash.com/photo-1518568814500-bf0f8d125f46?w=400'" alt="Memory 2">
      <div class="photo-caption">Still My Fav Pic üì∏</div>
    </div>
    <div class="message-box" id="msg-2"></div>
    <button class="btn" onclick="nextStep(6)">Isa paaaa! ‚û°Ô∏è</button>
  </div>

  <!-- SECTION 6: CAKE GAME -->
  <div id="step-6" class="hidden">
    <h2>Final Mission: Make a Wish! üïØÔ∏è</h2>
    <p>Etooo cakeeeeee, ahm pailawin mo na, pindutin mo lang mga candles hihi</p>
    
    <div class="cake-container">
      <div class="cake-base"></div>
      <div class="cake-middle"></div>
      <!-- Candles -->
      <div class="candle" style="left: 30px;" onclick="lightCandle(this)">
        <div class="flame"></div>
      </div>
      <div class="candle" style="left: 95px;" onclick="lightCandle(this)">
        <div class="flame"></div>
      </div>
      <div class="candle" style="left: 160px;" onclick="lightCandle(this)">
        <div class="flame"></div>
      </div>
    </div>
    <h3 id="cake-msg" style="opacity:0; transition:1s;">Happy Birthday!!! üéâ</h3>
  </div>

  <!-- SECTION 7: FINAL REVEAL -->
  <div id="step-7" class="hidden">
    <div class="photo-frame" style="transform: rotate(2deg);">
      <!-- REPLACE 'photo3.jpg' WITH YOUR IMAGE -->
      <img src="photo3.jpg" onerror="this.src='https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400'" alt="Memory 3">
    </div>
    <h1>I Love Youuuuuuuuuuuuuu! ‚ù§Ô∏è</h1>
    <div class="message-box" id="msg-final"></div>
    <br>
    <button class="btn" onclick="alert('Kiss me now! üòò')">Claim Your Kiss (pindutin mo em) üíã</button>
    <br><br><br>
  </div>

</div>

<script>
  /* --- CONFIGURATION --- */
  const messages = {
    1: "Hi lovey, happy birthday!! I love you so much! Nagustuhan mo baaaaa? Hehehe. Ginagawa ko to while naglalaba bag, hoping na magustuhan ng baby ko. Anyways, baby, i love love youuu, i'm sorry po na lagi kitang inaawayyy, and sinasaktan, ahm  ilove you. üíï",
    2: "Remember mo ba tooo, ang ganda ganda mo ditooooo, i have always told you na napaka ganda ng baby ko. Even when I am far, you shine so brightly to the point na naiinlove ako kahit andito lang ako. Ang galing mo sumayaw ditoooooo, i am shocked at how amazing my baby is!!!!!! ang talented mo for me, and love. I am upset, kasi minsan sinasabi mong hindi ka matalino. Sino ba nagpapa baba ng confidence mo???? tsk! I love you!!!",
    final: "baby!! Surprise!!! üéâ Another long message para sayoooooo, and:  Happy happy birthday! Enjoy your special day, my love!  simpleng website lang para sa minamahal kooooo. 3 years na tayo at lalo kapang gumaganda at paganda ng paganda tsk. I promise to always be here for you, to support you, and to love you no matter what, i love you so muuchh. I love you to the moon and back! ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è ‚ù§Ô∏è"

  };

  /* --- GLOBAL STATE --- */
  let currentStep = 1;

  /* --- INITIALIZATION --- */
  window.onload = function() {
    createFloatingHearts();
  };

  function nextStep(step) {
    document.querySelectorAll('[id^="step-"]').forEach(el => el.classList.add('hidden'));
    document.getElementById(`step-${step}`).classList.remove('hidden');
    document.getElementById(`step-${step}`).classList.add('fade-in');
    
    currentStep = step;

    if (step === 2) startBalloonGame();
    if (step === 3) typeText('msg-1', messages[1]);
    if (step === 4) setupMemoryGame();
    if (step === 5) typeText('msg-2', messages[2]);
    if (step === 7) {
      typeText('msg-final', messages.final);
      startConfetti();
    }
  }

  /* --- NO BUTTON LOGIC --- */
  function moveNo() {
    const btn = document.getElementById('noBtn');
    const x = Math.random() * 200 - 100;
    const y = Math.random() * 200 - 100;
    btn.style.transform = `translate(${x}px, ${y}px)`;
  }

  /* --- GAME 1: BALLOONS --- */
  let balloonsPopped = 0;
  function startBalloonGame() {
    const container = document.getElementById('balloon-container');
    const colors = ['#ff6b6b', '#feca57', '#48dbfb', '#ff9ff3', '#54a0ff'];
    
    const interval = setInterval(() => {
      if (balloonsPopped >= 5) {
        clearInterval(interval);
        setTimeout(() => nextStep(3), 500);
        return;
      }
      
      const b = document.createElement('div');
      b.className = 'balloon';
      b.style.left = Math.random() * 80 + '%';
      b.style.background = colors[Math.floor(Math.random() * colors.length)];
      b.innerHTML = 'üéà';
      
      b.onclick = function() {
        this.style.transform = 'scale(1.5)';
        this.style.opacity = '0';
        balloonsPopped++;
        document.getElementById('balloon-score').innerText = `Popped: ${balloonsPopped} / 5`;
        setTimeout(() => this.remove(), 200);
      };

      container.appendChild(b);
      setTimeout(() => { if(b.parentNode) b.remove(); }, 4000);
    }, 600);
  }

  /* --- GAME 2: MEMORY --- */
  const cardsArray = ['‚ù§Ô∏è','‚ù§Ô∏è','üåπ','üåπ','üß∏','üß∏','‚ú®','‚ú®'];
  let flippedCards = [];
  let matchedPairs = 0;

  function setupMemoryGame() {
    const grid = document.getElementById('memory-grid');
    grid.innerHTML = '';
    cardsArray.sort(() => 0.5 - Math.random());

    cardsArray.forEach((emoji, index) => {
      const card = document.createElement('div');
      card.className = 'card';
      card.dataset.emoji = emoji;
      card.dataset.index = index;
      card.onclick = flipCard;
      grid.appendChild(card);
    });
  }

  function flipCard() {
    if (flippedCards.length < 2 && !this.classList.contains('flipped')) {
      this.classList.add('flipped');
      this.innerText = this.dataset.emoji;
      flippedCards.push(this);

      if (flippedCards.length === 2) {
        setTimeout(checkMatch, 600);
      }
    }
  }

  function checkMatch() {
    const [c1, c2] = flippedCards;
    if (c1.dataset.emoji === c2.dataset.emoji) {
      c1.classList.add('matched');
      c2.classList.add('matched');
      matchedPairs++;
      if (matchedPairs === 4) setTimeout(() => nextStep(5), 500);
    } else {
      c1.classList.remove('flipped');
      c1.innerText = '';
      c2.classList.remove('flipped');
      c2.innerText = '';
    }
    flippedCards = [];
  }

  /* --- GAME 3: CAKE --- */
  let candlesLit = 0;
  function lightCandle(el) {
    const flame = el.querySelector('.flame');
    if (!flame.classList.contains('lit')) {
      flame.classList.add('lit');
      candlesLit++;
      if (candlesLit === 3) {
        document.getElementById('cake-msg').style.opacity = '1';
        setTimeout(() => nextStep(7), 2000);
      }
    }
  }

  /* --- UTILS --- */
  function typeText(id, text) {
    const el = document.getElementById(id);
    el.innerHTML = '';
    let i = 0;
    const interval = setInterval(() => {
      el.innerHTML += text.charAt(i);
      i++;
      if (i >= text.length) clearInterval(interval);
    }, 30);
  }

  function createFloatingHearts() {
    const bg = document.getElementById('bg-hearts');
    for (let i = 0; i < 15; i++) {
      const h = document.createElement('div');
      h.className = 'bg-heart';
      h.innerHTML = '‚ù§Ô∏è';
      h.style.left = Math.random() * 100 + '%';
      h.style.animationDuration = (Math.random() * 3 + 5) + 's';
      h.style.animationDelay = Math.random() * 5 + 's';
      bg.appendChild(h);
    }
  }

  function startConfetti() {
    setInterval(() => {
      const c = document.createElement('div');
      c.style.position = 'fixed';
      c.style.top = '-10px';
      c.style.left = Math.random() * 100 + '%';
      c.style.width = '10px';
      c.style.height = '10px';
      c.style.backgroundColor = `hsl(${Math.random()*360}, 100%, 50%)`;
      c.style.animation = `floatBalloon 3s linear`;
      c.style.zIndex = '999';
      document.body.appendChild(c);
      setTimeout(() => c.remove(), 3000);
    }, 100);
  }

</script>
</body>
</html>